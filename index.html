<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta charset='utf-8' />
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
    <title>Coffeescript - WDCM Dresden</title>
    <link href="stylesheets/github.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body class='index'>
    <div class='reveal'>
      <div class='state-background'>
        <div class='slides'>
          <section id='intro'>
  <img src="images/logo.png" />
  <h3>Javascript "Transpiler"</h3>
  <p>
    <img src="http://dresden.onruby.de/assets/labels/dresden-349714ad491282910d375650db6d018f.png" />
    <br />
    04.07.2013
  </p>
</section>
<section>
  <section>
    <blockquote>
      A little language that compiles into JavaScript
    </blockquote>
    Jeremy Ashkenas (CoffeeScript + Backbone.js)
  </section>
  <section>
    <iframe width="800" height="600" src="http://www.youtube.com/embed/_yZHbh396rc?feature=player_detailpage#t=82s" frameborder="0" allowfullscreen></iframe></iframe>
  </section>
  <section>
    <img src="images/javascript_good_and_bad_parts.jpg" />
  </section>
  <section>
    <div class='fragment'><img src="images/to2.png" /></div>
    <script type="text/javascript" src="http://www.google.com/trends/embed.js?hl=de&q=coffeescript,+rails+3.1&cmpt=q&content=1&cid=TIMESERIES_GRAPH_0&export=5&w=500&h=330"></script></script>
  </section>
</section>
<section>
  <section>
    <h1 class='title'>Syntax</h1>
    Hybrid aus Ruby und Python
  </section>
  <section>
    <ul>
      <li>keine <code>;</code></li>
      <li>keine <code>{...}</code></li>
      <li>wenig Klammern</li>
      <li>Whitespace signifikant</li>
    </ul>
  </section>
  <section>
    <h2>Literale / Strukturen</h2>
    <div class='editor-content'>
      a = 2&#x000A;&#x000A;#if a? and a == 2&#x000A;#  console.log "a is 2"&#x000A;#else&#x000A;#  console.log "it's not"
    </div>
    <aside class='notes'>
      einfuehrung in Editor. Literale, Rueckgabewerte, Scoping
    </aside>
  </section>
  <section>
    <h2>Rückgabewerte</h2>
    <div class='editor-content'>
      calculate = ->&#x000A;  # do something&#x000A;  12 + 14&#x000A;&#x000A;calculate()
    </div>
  </section>
  <section>
    <h2>Objekte / Funktionen</h2>
    <div class='editor-content'>
      math =&#x000A;  PI: 3.1415926&#x000A;  #square: (x) ->&#x000A;  #  return x * x&#x000A;  #circleUmfang: (radius) ->&#x000A;  #  return this.PI * this.square(radius)&#x000A;&#x000A;#math.square 4&#x000A;#math.circleUmfang(2)&#x000A;
    </div>
  </section>
  <section>
    <h2>Klassen</h2>
    <div class='editor-content'>
      class User&#x000A;  constructor: (name) ->&#x000A;    this.name = name&#x000A;&#x000A;  #greet: ->&#x000A;  #  return "Hello " + this.name&#x000A;&#x000A;#user = new User("stefan")&#x000A;#user.greet()&#x000A;&#x000A;#class Admin extends User&#x000A;#  greet: ->&#x000A;#    super + " and you are Admin!"&#x000A;#admin = new Admin("stefan")&#x000A;#admin.greet()&#x000A;&#x000A;&#x000A;
    </div>
  </section>
  <section>
    <h2>jQuery &amp; co</h2>
    <div class='editor-content'>
      #links = []&#x000A;jQuery ->&#x000A;#  $('a').each ->&#x000A;#    if a = $(@).attr("href")&#x000A;#      links.push a&#x000A;#  links&#x000A;#links&#x000A;&#x000A;#$.ajax&#x000A;#   url: 'http://api.twitter.com/1/statuses/user_timeline.json'&#x000A;#   type: 'GET'&#x000A;#   dataType: 'jsonp'&#x000A;#   data:&#x000A;#     screen_name: "ruby_dresden",&#x000A;#     count: 2&#x000A;#   success: (data, textStatus, xhr)->&#x000A;#     alert(tweet.text) for tweet in data&#x000A;
    </div>
  </section>
  <section>
    <h2>More...</h2>
    <div class='editor-content'>
      if a?.has(":something")?&#x000A;  console.log "..."
    </div>
  </section>
  <section>
    <h2>Rückgabewerte</h2>
    <div class='editor-content'>
      calculate = ->&#x000A;  # do something&#x000A;  12 + 14&#x000A;&#x000A;calculate()
    </div>
  </section>
  <section>
    <h3>Ranges/Comparisons</h3>
    <div class='editor-content'>
      if 2 < a < 5&#x000A;  console.log "#{a} is in range"&#x000A;#if a in [2..5]&#x000A;#  console.log "#{a} is in range"
    </div>
  </section>
  <section>
    <h3>Expressions everywhere</h3>
    <div class='editor-content'>
      value = if a?&#x000A;  42&#x000A;else&#x000A;  23&#x000A;&#x000A;# sum=0&#x000A;# result = sum+=x for x in [0..100]&#x000A;&#x000A;# arr = for x in [1..25]&#x000A;#   x * x&#x000A;&#x000A;&#x000A;
    </div>
  </section>
</section>
<section>
  <section>
    <h2>Tool-Support</h2>
  </section>
  <section>
    <h3>Als Javascript (zum Spielen)</h3>
    <pre class='code'>&lt;script type="text/coffeescript">&#x000A;jQuery ->&#x000A;  if coffeescript.isAwesome?&#x000A;    console.log "Yeah"&#x000A;&lt;/script>&#x000A;&lt;script src="http://coffeescript.org/extras/coffee-script.js"></script></pre>
  </section>
  <section>
    <h3>binary</h3>
    Installation z.B. mit npm:
    <pre class='code'>npm install -g coffee-script</pre>
    Nutzen des 'coffee' Programms
    <pre class='code'>coffee input.coffee output.js&#x000A;coffee watch</pre>
  </section>
  <section>
    <h3>Automatisch</h3>
    <ul>
      <li>Yeoman</li>
      <li>Middleman</li>
      <li>Guard-coffee</li>
      <li>LiveReload, CodeKit</li>
    </ul>
  </section>
  <section>
    <h3>Webframeworks</h3>
    <ul>
      <li>Rails 3.1+ Asset pipeline</li>
      <li>Sinatra, Django, Drupal, Symfony2,...</li>
    </ul>
  </section>
  <section>
    <h3>Rails</h3>
    <p>Braucht JavaScript-Engine:</p>
    <ul>
      <li>
        <pre class='code'>apt-get install nodejs</pre>
      </li>
      <li>
        <pre class='code'>gem "therubyracer"</pre>
      </li>
    </ul>
  </section>
  <section>
    <h3>Rails - Als js.erb Ersatz</h3>
    <ul>
      <li>
        <a href="https://github.com/markbates/coffeebeans">markbates/coffeebeans</a>
        &rarr;
        <pre class='code'>gem "coffeebeans"&#x000A;...&#x000A;app/views/users/index.js.coffee</pre>
      </li>
      <li class='fragment'>
        HAML <code>coffee-filter</code>
        <pre class='code'>:coffeescript&#x000A;  $ ->&#x000A;    console.log "Hello"&#x000A;&#x000A;</pre>
      </li>
    </ul>
  </section>
  <section>
    <h3>Iced Coffeescript</h3>
    <blockquote>
      [...] is a superset of CoffeeScript. [...]
      <br />
      <a href="http://maxtaco.github.io/coffee-script/">IcedCoffeeScript (ICS)</a>
      adds two new keywords: <strong>await</strong> and <strong>defer</strong>
    </blockquote>
    Asynchrone Callbacks &rarr; (scheinbar) synchroner prozeduraler Code
  </section>
  <section>
    <h3>Editor</h3>
    <ul>
      <li>vim, eclipse, sublime, netbeans,...</li>
    </ul>
  </section>
</section>
<section>
  <section>
    <h2>Warum?</h2>
    <blockquote>
      The compiled output is <strong>readable</strong> and pretty-printed, passes through <strong>JavaScript Lint without warnings</strong>, will work in every JavaScript runtime, and tends to <strong>run as fast or faster</strong> than the equivalent handwritten JavaScript.
    </blockquote>
    Coffeescript-Dokumentation
  </section>
  <section>
    <blockquote>
      Write new JS in CoffeeScript.
    </blockquote>
    Github <strong>Javascript</strong>-Styleguide
  </section>
  <section>
    Dropbox
    <blockquote>
      Dropbox now writes all new browser-side code in CoffeeScript, and we’ve been loving it. [...]
      <br />
      In the process of converting, we shaved off more than 5000 lines of code, a 21% reduction.
    </blockquote>
    https://tech.dropbox.com/?p=361
  </section>
  <section>
    <h3>
      <a href="https://github.com/jashkenas/coffee-script/wiki/In-The-Wild">Wer nutzt es sonst noch?</a>
    </h3>
    <ul>
      <li>Hubot</li>
      <li>Posterous</li>
      <li>Trello</li>
      <li>Airbnb Mobile</li>
      <li>Basecamp</li>
      <li>Various Node.js libs/frameworks</li>
      <li>m.nytimes, The Economist</li>
    </ul>
  </section>
  <section>
    <blockquote>
      As a result he was very happy with the quality of the JavaScript codebase.
      <br />
      However he still concluded that they would have been better off working in CoffeeScript, because it's easier to understand what is going [...]
      <br />
      <strong>
        but I agree with him and will continue to use coffeescript for any non-trivial amounts of javascript.
      </strong>
    </blockquote>
    <a href="http://martinfowler.com/bliki/TransparentCompilation.html">Martin Fowler</a>
  </section>
  <section>
    <ul>
      <li>Lesbarer</li>
      <li>spaßiger</li>
      <li>basiert auf Best Practices</li>
    </ul>
  </section>
</section>
<section>
  <section>
    <h2>Warum nicht?</h2>
    <h3>Geschmackssache: Einrückung als Syntax</h3>
  </section>
  <section>
    <h3>Komplexerer Build-Prozess</h3>
    <div class='fragment'>
      Abhilfe schafft
      <pre class='code'>coffee watch</pre>
      oder guard-coffeescript
    </div>
  </section>
  <section>
    <h3>Debugging: Zeilennummern matchen nicht mit Fehlermeldung</h3>
    <div class='fragment'>
      &rarr; Source Maps in Chrome
      <br />
      <small>Auch zum Debugging von minified JS</small>
    </div>
  </section>
  <section>
    <h3>Alternativen</h3>
    <h4>
      Typescript
      <i>Microsoft</i>
    </h4>
    <pre class='code'>class Admin {&#x000A; ...&#x000A;}&#x000A;interface Person {&#x000A;    firstname: string;&#x000A;    lastname: string;&#x000A;}&#x000A;function greet(variable: Person) {...}</pre>
  </section>
  <section>
    <h4>
      Dart2Js
      <i>Google</i>
    </h4>
    <pre class='code'>class HelloDartTest {&#x000A;  static testMain() {&#x000A;    print("Hello, Darter!");&#x000A;  }&#x000A;}&#x000A;main() {&#x000A;  HelloDartTest.testMain();&#x000A;}</pre>
  </section>
  <section>
    <h4>LispyScript</h4>
    <pre class='code'>(var square (function (x) (* x x)))&#x000A;(console.log (square 10))&#x000A;</pre>
  </section>
</section>
<section>
  <section>
    <h2>Ressourcen</h2>
  </section>
  <section>
    <ul>
      <li><a href="http://coffeescript.org/">CoffeeScript Doku</a></li>
      <li><a href="http://coffeescriptcookbook.com">CoffeeScript Cookbook</a></li>
      <li><a href="http://js2coffee.org">JS2Coffee</a></li>
      <li><a href="http://www.youtube.com/watch?v=aER4_AP3S4E">[Youtube] CoffeeScript for the Rubyist by Mark Bates</a></li>
    </ul>
  </section>
</section>
<section>
  <img style="float: left; margin-right: 10px" src="http://www.gravatar.com/avatar/6edcb304a03a87ddf5c68239f7d001e4?s=200&d=identicon&r=PG" />
  <p>
    Stefan Wienert
    <br />
    <a href="https://twitter.com/stefanwienert">@stefanwienert</a>
    <br />
    <a href="http://www.stefanwienert.net">stefanwienert.net</a>
    <br />
    <small>Webentwickler bei pludoni GmbH</small>
  </p>
  <p class='plain' style='clear: both'>
    <img src="https://www.empfehlungsbund.de/empfehlungsbund-logo.png" />
    <br />
    <img src="https://www.empfehlungsbund.de/system/logos/1/medium/itsax.png" />
    <img src="https://www.empfehlungsbund.de/system/logos/2/medium/itmitte.png" />
    <img src="https://www.empfehlungsbund.de/system/logos/3/medium/mintsax.png" />
    <img src="https://www.empfehlungsbund.de/system/logos/4/medium/officemitte.png" />
    <img src="https://www.empfehlungsbund.de/system/logos/5/medium/officesax.png" />
    <br />
    <img src="https://www.empfehlungsbund.de/system/logos/6/medium/itbbb.png" />
  </p>
  <style type='text/css'>
    /*<![CDATA[*/
      .reveal .plain img { border: 0; box-shadow: none; }
    /*]]>*/
  </style>
</section>
        </div>
        <aside class='controls'>
          <a class='left' href='#'>&#x25C4;</a>
          <a class='right' href='#'>&#x25BA;</a>
          <a class='up' href='#'>&#x25B2;</a>
          <a class='down' href='#'>&#x25BC;</a>
        </aside>
        <div class='progress'>
          <span></span>
        </div>
      </div>
    </div>
    <script src="javascripts/head.min.js" type="text/javascript"></script>
    <script src="javascripts/jquery.min.js" type="text/javascript"></script>
    <script src="javascripts/reveal.min.js" type="text/javascript"></script>
    <script src="javascripts/ace.js" type="text/javascript"></script>
    <script src="javascripts/mode-coffee.js" type="text/javascript"></script>
    <script src="javascripts/theme-textmate.js" type="text/javascript"></script>
    <script src="javascripts/coffee-script.js" type="text/javascript"></script>
    <script src="javascripts/highlight.pack.js" type="text/javascript"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>
  </body>
</html>
